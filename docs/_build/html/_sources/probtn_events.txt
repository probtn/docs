.. probtn documentation master file, created by
   sphinx-quickstart on Mon Nov  2 12:32:08 2015.
   You can adapt this file completely to your liking, but it should at least
   contain the root `toctree` directive.

.. _probtn_events:

Получение событий кнопки на странице
===================================

Общее описание
----------------------------------

В случае, если есть необходимость получать события кнопки (к примеру для дальнейшего собственного подсчета статистики) возможно зарегистрировать обработчик события probtn_events.

В данном событии в data будет присутствовать объект с описанием события и необходимыми данными.

Описание объекта
----------------------------------
Основные даныые о событии находятся в ``Statistic`` и представлены в виде массива объектов, где ``name`` - название события и ``value`` - значение.

Описание вариантов событий кнопки
----------------------------------

Opened
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Значение по умолчанию - 1.

Данное событие вызывается в том случае, если кнопка успешно инициализировалась.

Showed
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Значение по умолчанию - 1.

Данное событие вызывается в том случае, если кнопка успешно была показана (после завершения инициализации).

Moved
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Значение по умолчанию - 1.

Данное событие вызывается в начале перемещения кнопки.

ContentShowed
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Значение по умолчанию - 1.

Данное событие вызывается при открытии контента (по нажатию на кнопку, пункт меню или взаимодейстие с активной зоной) в модальном окне, при открытии в новой вкладке и т.д.

ContentShowedDuration
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Длительность показа контента (для тех случаев, когда ее возможно измерить).

Значение указывается в секундах.

MovedDuration
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Длительность перемещения кнопки, вызывается при завершении перемещения.

Значение указывается в секундах.

Closed
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Значение по умолчанию - 1.

Вызывается при закрытии кнопки пользователем.

Hidded
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Значение по умолчанию - 1.

Вызывается при скрытии кнопки (как автоматическом, так и инициированном пользователем).

ScrollZoneShowed
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Значение по умолчанию - 1.

Вызывается при показе скролл-зоны или при смене на другую скролл-зону.

VideoClicked
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Значение по умолчанию - 1.

Вызывается при клике на видео (если для видео указана ссылка для перехода по нажатию на видео).

performedAction
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Данное событие используется, когда требуется передать какие-либо пользовательские данные в админку (например, о том, что обнаружен adBlock).

ContentShowedDuration
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Параметр содержит длительность показа кнопки (передается вместе с VideoFullDuration).

VideoFullDuration
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Параметр содержит полную длительность видео в секундах (передается вместе с ContentShowedDuration).

VideoStarted
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Событие о старте проигрывания видео в модальном окне. Вызывается также после паузы. Содержит параметр текущего положения видео в секундах.

VideoPaused
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Событие о паузе проигрывания видео в модальном окне. Содержит параметр текущего положения видео в секундах.

VideoSeeked
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Событие об окончании прокрутки видео в модальном окне. Содержит параметр текущего положения видео в секундах.

VideoClosed
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Событие о закрытии модального окна с видео. Содержит параметр текущего положения видео в секундах.

Примеры
----------------------------------

Пример добавления listener для события
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

::
	document.addEventListener('probtn_events', function (e) {
					console.log("probtn_events", e.data);
					$("#eventsOutput").append("<p>"+JSON.stringify(e.data)+"</p>");
	}, false);

Пример объекта
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

``{"AZName":"","Statistic":[{"name":"Moved","value":1}]}``

demo-страницы
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

* http://demo.viewst.com/button_example3/probtnEvents/
